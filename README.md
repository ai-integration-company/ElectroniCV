# Решение команды AI Integration для составления сметы по схеме электрики

## Обзор
Наше решение, разработанное командой AI Integration, фокусируется на создании смет для электрических схем. **Оно принимает изображения, содержащие горизонтальный текст (читаемый слева направо) и вертикальный текст (читаемый снизу вверх)** в соответствии с ГОСТ.

## Тестирование
**Для тестирования рекомендуется использовать нашего развернутого Telegram бота** ссылка. При необходимости проверить код, вы можете запустить ноутбук `CV.ipynb` на Kaggle или Google Colab с **использованием мощностей GPU**, потому что локально у Вас не хватит ресурсов для адекватной работы продукта.

### Важно:
При локальном поднятии кнопка для открытия схемы непосредственно в боте **работать НЕ будет**. Там необходимы дополнительные настройки доступа тг бота и развернутый сайт с туннелированием. Вместо этого необходимо скачать файл и просмотреть его вручную.

## Локальная установка
Чтобы запустить решение локально, выполните следующие шаги:
1. Клонируйте репозиторий.
2. В папке `tg-bot` создайте файл с именем `.env`.
3. Добавьте в файл `.env` следующие переменные окружения:

```bash
ML_URL=http://cv:3000/process_image
BOT_TOKEN=7055398405:AAEX7X5OAPRzsTfgu8u_To_TddsKmJV3Z30
WEB_APP_URL=https://codenrock.com/contests/ekf-ai-challenge
```
 4. Выполните следующие команды

 ```bash
docker compose build
docker compose up 
```
 5. Для работы в логах должно быть **cv  | INFO:     Application startup complete**. Это примерно 5-8 минут после выполнения команды docker compose up.
 6. Перейдите в бота https://t.me/electroCVTEST_bot и тестируйте. **Доступ к смете по кнопке работать НЕ будет. Там необходимы дополнительные настройки доступа тг бота и развернутый сайт с туннелированием.**
